<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
    <title>Новый пароль</title>
      <style>
          body { display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#ffb74d,#ba68c8);font-family:'Comic Sans MS'; }
              .update-card { background:#fff;padding:30px;border-radius:20px;box-shadow:0 4px 15px rgba(0,0,0,0.2);width:90%;max-width:350px;text-align:center; }
                  input { width:100%;padding:10px;margin:8px 0;border:1px solid #ccc;border-radius:10px; }
                      .btn { background:#7e57c2;color:#fff;border:none;padding:10px 20px;border-radius:10px;cursor:pointer;margin-top:10px; }
                        </style>
                        </head>
                        <body>
                          <div class="update-card">
                              <h2>Новый пароль</h2>
                                  <input type="password" id="newPassword" placeholder="Введите новый пароль">
                                      <button class="btn" id="updateBtn">Сохранить</button>
                                        </div>
                                        
                                          <script src="/config.js"></script>
                                            <script type="module">
                                                import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm'
                                                    const supabase = createClient(window.SUPABASE_URL, window.SUPABASE_ANON_KEY)
                                                    
                                                        document.getElementById('updateBtn').addEventListener('click', async () => {
                                                              const newPassword = document.getElementById('newPassword').value
                                                                    const { data, error } = await supabase.auth.updateUser({ password: newPassword })
                                                                          if (error) alert('Ошибка: ' + error.message)
                                                                                else {
                                                                                        alert('Пароль обновлён! Теперь войдите снова.')
                                                                                                window.location.href = "/login.html"
                                                                                                      }
                                                                                                          })
                                                                                                            </script>
                                                                                                            </body>
                                                                                                            </html>
                                                                                                            >